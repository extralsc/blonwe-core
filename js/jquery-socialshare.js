;(function($,b,void 0){"use strict";var c='jqss',d=$(b.document.head),A='mailto:?subject={{SUBJECT}}&body={{BODY}}',f={internal:200,counter:100};var g={usePopup:!0,popupWidth:600,popupHeight:450,url:b.location.href,siteUrl:b.location.origin||b.location.protocol+'//'+b.location.hostname+(b.location.port?':'+b.location.port:''),source:d.find('[name=\'site\'], [name=\'Site\']').prop('content')||b.document.title,title:d.find('[name=\'title\'], [name=\'Title\']').prop('content')||b.document.title,description:d.find(['[name=\'description\']','[name=\'Description\']','[property=\'og:description\']','[property=\'og:Description\']'].join(', ')).attr('content')||b.document.title,image:d.find(['[name=\'image\']','[name=\'Image\']','[property=\'og:image\']','[property=\'og:Image\']'].join(', ')).prop('content')||$('img:first').prop('src')||'',price:d.find('[property=\'og:product:price:amount\']').prop('content')||'',template:null,imageSelector:null,priceSelector:null,emailSubject:'I'm sharing \"{{TITLE}}\" with you',emailBody:['Because I think you\'ll find it very interesting.','\"{{DESCRIPTION}}\"','Click this link {{URL}} for more info.'].join('%0A%0A'),twitterSource:(d.find(['[name=\'twitter:creator\']','[name=\'twitter:site\']'].join(', ')).prop('content')||'').replace('@',''),onOpen:function(){},onClose:function(){}},h=function(B,C){var _c=$(B).data(),D={},E,F=RegExp(`^${C.toLowerCase()}([A-Z])`);C=RegExp('^'+C.toLowerCase());function G(_,a){return a.toLowerCase()}for(var H in _c){if(!C.test(H))continue;E=H.replace(F,G);D[E]=_c[H]}return D},_=function(){this.templateName=this.settings.template;if(!this.templateName){var _a=this.element.className.split(/\s+/);for(var i=0;i<_a.length;i++){var _C=_a[i].toLowerCase();if(void 0!==k[_C]){this.templateName=_C;this.template=k[_C];break}}if(!this.template){b.console.error('[jqss] Could not find a template to use for element:');b.console.log(this.element);this._isAnchor&&this.$element.prop('href','#');return}}else void 0!==k[this.templateName]&&(this.template=k[this.templateName]);if(!this.template){b.console.error('[jqss] Could not find template \"'+this.templateName+'\" for element:');b.console.log(this.element);this._isAnchor&&this.$element.prop('href','#');return}'email'===this.templateName&&(this.template=A.replace('{{SUBJECT}}',this.settings.emailSubject).replace('{{BODY}}',this.settings.emailBody));this.settings.imageSelector&&(this.settings.image=$(this.settings.imageSelector).map(function(){return $(this).prop('src')}).get().join('||'));this.settings.priceSelector&&(this.settings.price=$(this.settings.priceSelector).text());this.href=this.template;for(var _d in this.settings)if(void 0!==this.settings[_d]){var _e=encodeURIComponent(this.settings[_d]);this.href=this.href.replace(new RegExp(`{{${_d.toUpperCase()}}}`, 'g'),_e)}if(this._isAnchor){this.$element.prop('href',this.href);'email'!==this.templateName&&this.$element.prop('target','_blank')}this.settings.template=this.templateName;this.enabled=!0};function j(_A,_b){this.element=_A;this.$element=$(this.element);this.settings=$.extend({},g,h(this.$element,c),_b);this.enabled=!1;this.template=this.templateName=this.href=null;this.uniqueId=new Date().getTime();this._isAnchor=this.$element.is('a');this._defaults=g;this._pluginName=c;this._shareWin=this._closeTimer=null;this.init()}$.extend(j.prototype,{init:function(){_.call(this);(this.enabled&&'email'!==this.settings.template)&&this.$element.bind('click',function(e){e.preventDefault();e.stopPropagation();$.data(this,`plugin_${c}`).open(!0)})},open:function(aA){if(!this.enabled||'email'===this.settings.template)return this.$element;void 0===aA&&(aA=!1);if(this.settings.usePopup){var _B=void 0!==b.screenLeft?b.screenLeft:b.screen.left,aB=void 0!==b.screenTop?b.screenTop:b.screen.top;var _D=(($(b).width()/2)-(this.settings.popupWidth/2))+_B,_E=(($(b).height()/2)-(this.settings.popupHeight/2))+aB;this._shareWin=b.open(this.href,this._pluginName+'_'+this.uniqueId,'scrollbars=yes,toolbar=0,scrollbars=1,resizable=1,width='+this.settings.popupWidth+',height='+this.settings.popupHeight+',top='+_E+',left='+_D);b.focus&&this._shareWin.focus()}else this._shareWin=b.open(this.href,'_blank');if(aA){this.settings.onOpen.apply(void 0,this,this.$element);if(this._shareWin){var _f=this,_g=f.counter;this._closeTimer=b.setInterval(function(){if(_f._shareWin.closed!==!1){b.clearInterval(_f._closeTimer);aA&&_f.settings.onClose.apply(void 0,_f,_f.$element)}else 0===_g&&b.clearInterval(_f._closeTimer);_g--},f.internal)}}return this.$element},close:function(aC){if((!this.enabled||(this._shareWin||this._shareWin.closed===!1))||'email'===this.settings.template)return this.$element;void 0===aC&&(aC=!1);this._shareWin.close();aC&&this.settings.onClose.apply(void 0,this,this.$element);return this.$element}});$.fn[c]=function(aD){var aE=Array.apply(null,arguments),aG=this.each(function(){var aH=$.data(this,`plugin_${c}`);void 0===aH&&(aH=new j(this, (aD||{})),$.data(this,`plugin_${c}`,aH));('string'===typeof aD&&'function'===typeof aH[aD])&&(aF=aH[aD].apply(aH,aE))});aE.shift();var aF;if(void 0===aF||aF instanceof j)return aG;return aF};var k=$.fn[c].templates={amazon:'http://www.amazon.com/gp/wishlist/static-add?u={{URL}}&t={{TITLE}}&p={{PRICE}}',blogger:'https://www.blogger.com/blog_this.pyra?t&u={{URL}}&n={{TITLE}}',buffer:'https://buffer.com/add?url={{URL}}&title={{TITLE}}',delicious:'https://delicious.com/post?url={{URL}}&title={{TITLE}}&notes={{DESCRIPTION}}',digg:'https://digg.com/submit?url={{URL}}&title={{TITLE}}',evernote:'http://www.evernote.com/clip.action?url={{URL}}&title={{TITLE}}',pinterest:'http://pinterest.com/pin/create/button/?url={{URL}}'+'&media={{IMAGE}}&description={{DESCRIPTION}}',pocket:'https://getpocket.com/save?url={{URL}}&title={{TITLE}}',quora:'http://www.quora.com/board/bookmarklet?v=1&url={{URL}}',reddit:'http://www.reddit.com/submit?url={{URL}}&title={{TITLE}}',stumbleupon:'http://www.stumbleupon.com/submit?url={{URL}}&title={{TITLE}}',tumblr:'http://tumblr.com/widgets/share/tool?canonicalUrl={{URL}}',email:'#',linkedin:'http://www.linkedin.com/shareArticle?mini=true&ro=true'+'&title={{TITLE}}&url={{URL}}&summary={{DESCRIPTION}}&source={{SOURCE}}&armin=armin',facebook:'https://www.facebook.com/sharer/sharer.php?u={{URL}}',twitter:'https://twitter.com/intent/tweet?text={{TITLE}}'+'&url={{URL}}&via={{TWITTERSOURCE}}',whatsapp:'https://wa.me/?text={{URL}}',googleplus:'https://plus.google.com/share?url={{URL}}'}})(jQuery,window);
